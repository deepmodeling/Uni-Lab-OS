# Bioyond ä»“åº“ç³»ç»Ÿå¼€å‘æŒ‡å—

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜ Bioyond ä»“åº“ï¼ˆWarehouseï¼‰ç³»ç»Ÿçš„æ¶æ„ã€é…ç½®å’Œä½¿ç”¨æ–¹æ³•ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿç†è§£å’Œç»´æŠ¤ä»“åº“ç›¸å…³ä»£ç ã€‚

## ğŸ“š ç›®å½•

- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [æ ¸å¿ƒæ¦‚å¿µ](#æ ¸å¿ƒæ¦‚å¿µ)
- [ä¸‰å±‚æ˜ å°„å…³ç³»](#ä¸‰å±‚æ˜ å°„å…³ç³»)
- [warehouse_factory è¯¦è§£](#warehouse_factory-è¯¦è§£)
- [åˆ›å»ºæ–°ä»“åº“](#åˆ›å»ºæ–°ä»“åº“)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [è°ƒè¯•æŠ€å·§](#è°ƒè¯•æŠ€å·§)

---

## ç³»ç»Ÿæ¶æ„

Bioyond ä»“åº“ç³»ç»Ÿé‡‡ç”¨**ä¸‰å±‚æ¶æ„**ï¼Œå®ç°ä»å‰ç«¯æ˜¾ç¤ºåˆ°åç«¯ API çš„å®Œæ•´æ˜ å°„ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‰ç«¯æ˜¾ç¤ºå±‚ (YB_warehouses.py)                          â”‚
â”‚  - warehouse_factory è‡ªåŠ¨ç”Ÿæˆåº“ä½ç½‘æ ¼                   â”‚
â”‚  - ç”Ÿæˆåº“ä½åç§°ï¼šA01, B02, C03...                       â”‚
â”‚  - å­˜å‚¨åœ¨ WareHouse.sites å­—å…¸ä¸­                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Deck å¸ƒå±€å±‚ (decks.py)                                 â”‚
â”‚  - å®šä¹‰ä»“åº“åœ¨ Deck ä¸Šçš„ç‰©ç†ä½ç½®                         â”‚
â”‚  - ç»„ç»‡å¤šä¸ªä»“åº“å½¢æˆå®Œæ•´å¸ƒå±€                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UUID æ˜ å°„å±‚ (config.py)                                â”‚
â”‚  - å°†åº“ä½åç§°æ˜ å°„åˆ° Bioyond ç³»ç»Ÿ UUID                   â”‚
â”‚  - ç”¨äº API è°ƒç”¨æ—¶çš„ç‰©æ–™å…¥åº“æ“ä½œ                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ ¸å¿ƒæ¦‚å¿µ

### ä»“åº“ï¼ˆWarehouseï¼‰

ä»“åº“æ˜¯ä¸€ä¸ª**ä¸‰ç»´ç½‘æ ¼**ï¼Œç”¨äºå­˜æ”¾ç‰©æ–™ã€‚ç”±ä»¥ä¸‹å‚æ•°å®šä¹‰ï¼š

- **num_items_x**: åˆ—æ•°ï¼ˆX è½´ï¼‰
- **num_items_y**: è¡Œæ•°ï¼ˆY è½´ï¼‰  
- **num_items_z**: å±‚æ•°ï¼ˆZ è½´ï¼‰

ä¾‹å¦‚ï¼š`5è¡ŒÃ—3åˆ—Ã—1å±‚` = 5Ã—3Ã—1 = 15ä¸ªåº“ä½

### åº“ä½ï¼ˆSiteï¼‰

åº“ä½æ˜¯ä»“åº“ä¸­çš„å•ä¸ªå­˜å‚¨ä½ç½®ï¼Œç”±**å­—æ¯è¡Œ+æ•°å­—åˆ—**å‘½åï¼š

- **å­—æ¯è¡Œ**ï¼šA, B, C, D, E, F...ï¼ˆå¯¹åº” Y è½´ï¼‰
- **æ•°å­—åˆ—**ï¼š01, 02, 03, 04...ï¼ˆå¯¹åº” X è½´æˆ– Z è½´ï¼‰

ç¤ºä¾‹ï¼š`A01`, `B02`, `C03`

### å¸ƒå±€æ¨¡å¼ï¼ˆLayoutï¼‰

æ§åˆ¶åº“ä½çš„æ’åºå’Œ Y åæ ‡è®¡ç®—ï¼š

| æ¨¡å¼ | è¯´æ˜ | ç”Ÿæˆé¡ºåº | Y åæ ‡è®¡ç®— | æ˜¾ç¤ºæ•ˆæœ |
|------|------|----------|-----------|---------|
| `col-major` | åˆ—ä¼˜å…ˆï¼ˆé»˜è®¤ï¼‰ | A01, B01, C01, A02... | `dy + (num_y - row - 1) * item_dy` | A å¯èƒ½åœ¨ä¸‹ |
| `row-major` | è¡Œä¼˜å…ˆ | A01, A02, A03, B01... | `dy + row * item_dy` | **A åœ¨ä¸Š** âœ“ |

**é‡è¦ï¼š** ä½¿ç”¨ `row-major` å¯ä»¥é¿å…ä¸Šä¸‹é¢ å€’é—®é¢˜ï¼

---

## ä¸‰å±‚æ˜ å°„å…³ç³»

### ç¤ºä¾‹ï¼šæ‰‹åŠ¨ä¼ é€’çª—å³ï¼ˆA01-E03ï¼‰

#### 1ï¸âƒ£ å‰ç«¯æ˜¾ç¤ºå±‚ - [`YB_warehouses.py`](YB_warehouses.py)

```python
def bioyond_warehouse_5x3x1(name: str, row_offset: int = 0) -> WareHouse:
    """åˆ›å»º 5è¡ŒÃ—3åˆ—Ã—1å±‚ ä»“åº“"""
    return warehouse_factory(
        name=name,
        num_items_x=3,      # 3åˆ—
        num_items_y=5,      # 5è¡Œ
        num_items_z=1,      # 1å±‚
        row_offset=row_offset,
        layout="row-major",
    )
```

**è‡ªåŠ¨ç”Ÿæˆçš„åº“ä½ï¼š** A01, A02, A03, B01, B02, B03, ..., E01, E02, E03

#### 2ï¸âƒ£ Deck å¸ƒå±€å±‚ - [`decks.py`](decks.py)

```python
self.warehouses = {
    "æ‰‹åŠ¨ä¼ é€’çª—å³": bioyond_warehouse_5x3x1("æ‰‹åŠ¨ä¼ é€’çª—å³", row_offset=0),
}
self.warehouse_locations = {
    "æ‰‹åŠ¨ä¼ é€’çª—å³": Coordinate(4160.0, 877.0, 0.0),
}
```

**ä½œç”¨ï¼š** 
- åˆ›å»ºä»“åº“å®ä¾‹
- è®¾ç½®åœ¨ Deck ä¸Šçš„ç‰©ç†åæ ‡

#### 3ï¸âƒ£ UUID æ˜ å°„å±‚ - [`config.py`](../../devices/workstation/bioyond_studio/config.py)

```python
WAREHOUSE_MAPPING = {
    "æ‰‹åŠ¨ä¼ é€’çª—å³": {
        "uuid": "",
        "site_uuids": {
            "A01": "3a19deae-2c7a-36f5-5e41-02c5b66feaea",
            "A02": "3a19deae-2c7a-dc6d-c41e-ef285d946cfe",
            # ... å…¶ä»–åº“ä½
        }
    }
}
```

**ä½œç”¨ï¼š**
- ç”¨æˆ·æ‹–æ‹½ç‰©æ–™åˆ°"æ‰‹åŠ¨ä¼ é€’çª—å³"çš„"A01"ä½ç½®æ—¶
- ç³»ç»ŸæŸ¥æ‰¾ `WAREHOUSE_MAPPING["æ‰‹åŠ¨ä¼ é€’çª—å³"]["site_uuids"]["A01"]`
- è·å– UUID `"3a19deae-2c7a-36f5-5e41-02c5b66feaea"`
- è°ƒç”¨ Bioyond API å°†ç‰©æ–™å…¥åº“åˆ°è¯¥ UUID ä½ç½®

---

## å®é™…é…ç½®æ¡ˆä¾‹

### æ¡ˆä¾‹ï¼šæ‰‹åŠ¨ä¼ é€’çª—å·¦/å³çš„å®Œæ•´é…ç½®

æœ¬æ¡ˆä¾‹å±•ç¤ºå¦‚ä½•ä¸º"æ‰‹åŠ¨ä¼ é€’çª—å³"å’Œ"æ‰‹åŠ¨ä¼ é€’çª—å·¦"å»ºç«‹å®Œæ•´çš„ä¸‰å±‚æ˜ å°„ã€‚

#### èƒŒæ™¯éœ€æ±‚
- **æ‰‹åŠ¨ä¼ é€’çª—å³**: éœ€è¦ A01-E03ï¼ˆ5è¡ŒÃ—3åˆ—=15ä¸ªåº“ä½ï¼‰
- **æ‰‹åŠ¨ä¼ é€’çª—å·¦**: éœ€è¦ F01-J03ï¼ˆ5è¡ŒÃ—3åˆ—=15ä¸ªåº“ä½ï¼‰
- è¿™ä¸¤ä¸ªä»“åº“å…±äº«åŒä¸€ä¸ªç‰©ç†å †æ ˆçš„ UUIDï¼ˆ"æ‰‹åŠ¨å †æ ˆ"ï¼‰

#### å®æ–½æ­¥éª¤

**1ï¸âƒ£ ä¿®å¤å‰ç«¯å¸ƒå±€** - [`YB_warehouses.py`](YB_warehouses.py)

```python
# åˆ›å»ºæ–°çš„ 5Ã—3Ã—1 ä»“åº“å‡½æ•°ï¼ˆä¹‹å‰æ˜¯é”™è¯¯çš„ 1Ã—3Ã—3ï¼‰
def bioyond_warehouse_5x3x1(name: str, row_offset: int = 0) -> WareHouse:
    """åˆ›å»º5è¡ŒÃ—3åˆ—Ã—1å±‚ä»“åº“ï¼Œæ”¯æŒè¡Œåç§»ç”Ÿæˆä¸åŒå­—æ¯è¡Œ"""
    return warehouse_factory(
        name=name,
        num_items_x=3,      # 3åˆ—
        num_items_y=5,      # 5è¡Œ  â† ä¿®æ­£
        num_items_z=1,      # 1å±‚  â† ä¿®æ­£
        row_offset=row_offset,  # â† æ”¯æŒ F-J è¡Œ
        layout="row-major",     # â† é¿å…ä¸Šä¸‹é¢ å€’
    )
```

**2ï¸âƒ£ æ›´æ–° Deck é…ç½®** - [`decks.py`](decks.py)

```python
from unilabos.resources.bioyond.YB_warehouses import (
    bioyond_warehouse_5x3x1,  # æ–°å¢å¯¼å…¥
)

class BIOYOND_YB_Deck(Deck):
    def setup(self) -> None:
        self.warehouses = {
            # ä¿®æ”¹å‰: bioyond_warehouse_1x3x3 (é”™è¯¯å°ºå¯¸)
            # ä¿®æ”¹å: bioyond_warehouse_5x3x1 (æ­£ç¡®å°ºå¯¸)
            "æ‰‹åŠ¨ä¼ é€’çª—å³": bioyond_warehouse_5x3x1("æ‰‹åŠ¨ä¼ é€’çª—å³", row_offset=0),  # A01-E03
            "æ‰‹åŠ¨ä¼ é€’çª—å·¦": bioyond_warehouse_5x3x1("æ‰‹åŠ¨ä¼ é€’çª—å·¦", row_offset=5),  # F01-J03
        }
```

**3ï¸âƒ£ æ·»åŠ  UUID æ˜ å°„** - [`config.py`](../../devices/workstation/bioyond_studio/config.py)

```python
WAREHOUSE_MAPPING = {
    # ä¿æŒåŸæœ‰çš„"æ‰‹åŠ¨å †æ ˆ"é…ç½®ä¸å˜ï¼ˆA01-J03å…±30ä¸ªåº“ä½ï¼‰
    "æ‰‹åŠ¨å †æ ˆ": {
        "uuid": "",
        "site_uuids": {
            "A01": "3a19deae-2c7a-36f5-5e41-02c5b66feaea",
            # ... A02-E03 å…±15ä¸ª
            "F01": "3a19deae-2c7a-d594-fd6a-0d20de3c7c4a",
            # ... F02-J03 å…±15ä¸ª
        }
    },
    
    # [æ–°å¢] æ‰‹åŠ¨ä¼ é€’çª—å³ - å¤ç”¨"æ‰‹åŠ¨å †æ ˆ"çš„ A01-E03 UUID
    "æ‰‹åŠ¨ä¼ é€’çª—å³": {
        "uuid": "",
        "site_uuids": {
            "A01": "3a19deae-2c7a-36f5-5e41-02c5b66feaea",  # â† ä¸æ‰‹åŠ¨å †æ ˆA01ç›¸åŒ
            "A02": "3a19deae-2c7a-dc6d-c41e-ef285d946cfe",
            "A03": "3a19deae-2c7a-5876-c454-6b7e224ca927",
            "B01": "3a19deae-2c7a-2426-6d71-e9de3cb158b1",
            "B02": "3a19deae-2c7a-79b0-5e44-efaafd1e4cf3",
            "B03": "3a19deae-2c7a-b9eb-f4e3-e308e0cf839a",
            "C01": "3a19deae-2c7a-32bc-768e-556647e292f3",
            "C02": "3a19deae-2c7a-e97a-8484-f5a4599447c4",
            "C03": "3a19deae-2c7a-3056-6504-10dc73fbc276",
            "D01": "3a19deae-2c7a-ffad-875e-8c4cda61d440",
            "D02": "3a19deae-2c7a-61be-601c-b6fb5610499a",
            "D03": "3a19deae-2c7a-c0f7-05a7-e3fe2491e560",
            "E01": "3a19deae-2c7a-a6f4-edd1-b436a7576363",
            "E02": "3a19deae-2c7a-4367-96dd-1ca2186f4910",
            "E03": "3a19deae-2c7a-b163-2219-23df15200311",
        }
    },
    
    # [æ–°å¢] æ‰‹åŠ¨ä¼ é€’çª—å·¦ - å¤ç”¨"æ‰‹åŠ¨å †æ ˆ"çš„ F01-J03 UUID
    "æ‰‹åŠ¨ä¼ é€’çª—å·¦": {
        "uuid": "",
        "site_uuids": {
            "F01": "3a19deae-2c7a-d594-fd6a-0d20de3c7c4a",  # â† ä¸æ‰‹åŠ¨å †æ ˆF01ç›¸åŒ
            "F02": "3a19deae-2c7a-a194-ea63-8b342b8d8679",
            "F03": "3a19deae-2c7a-f7c4-12bd-425799425698",
            "G01": "3a19deae-2c7a-0b56-72f1-8ab86e53b955",
            "G02": "3a19deae-2c7a-204e-95ed-1f1950f28343",
            "G03": "3a19deae-2c7a-392b-62f1-4907c66343f8",
            "H01": "3a19deae-2c7a-5602-e876-d27aca4e3201",
            "H02": "3a19deae-2c7a-f15c-70e0-25b58a8c9702",
            "H03": "3a19deae-2c7a-780b-8965-2e1345f7e834",
            "I01": "3a19deae-2c7a-8849-e172-07de14ede928",
            "I02": "3a19deae-2c7a-4772-a37f-ff99270bafc0",
            "I03": "3a19deae-2c7a-cce7-6e4a-25ea4a2068c4",
            "J01": "3a19deae-2c7a-1848-de92-b5d5ed054cc6",
            "J02": "3a19deae-2c7a-1d45-b4f8-6f866530e205",
            "J03": "3a19deae-2c7a-f237-89d9-8fe19025dee9"
        }
    },
}
```

#### å…³é”®è¦ç‚¹

1. **UUID å¯ä»¥å¤ç”¨**: ä¸‰ä¸ªä»“åº“ï¼ˆæ‰‹åŠ¨å †æ ˆã€æ‰‹åŠ¨ä¼ é€’çª—å³ã€æ‰‹åŠ¨ä¼ é€’çª—å·¦ï¼‰å¯ä»¥å…±äº«ç›¸åŒçš„ç‰©ç†åº“ä½ UUID
2. **åº“ä½åç§°å¿…é¡»åŒ¹é…**: å‰ç«¯ç”Ÿæˆçš„åº“ä½åç§°ï¼ˆå¦‚ F01ï¼‰å¿…é¡»ä¸ config.py ä¸­çš„é”®åå®Œå…¨ä¸€è‡´
3. **row_offset çš„å¦™ç”¨**: 
   - `row_offset=0` â†’ ç”Ÿæˆ A-E è¡Œ
   - `row_offset=5` â†’ ç”Ÿæˆ F-J è¡Œï¼ˆè·³è¿‡å‰5ä¸ªå­—æ¯ï¼‰

#### éªŒè¯ç»“æœ

é…ç½®å®Œæˆåï¼Œæ‹–æ‹½æµ‹è¯•ï¼š

| æ‹–æ‹½ä½ç½® | å‰ç«¯åº“ä½ | æŸ¥æ‰¾è·¯å¾„ | UUID | ç»“æœ |
|---------|---------|---------|------|------|
| æ‰‹åŠ¨ä¼ é€’çª—å³/A01 | A01 | `WAREHOUSE_MAPPING["æ‰‹åŠ¨ä¼ é€’çª—å³"]["site_uuids"]["A01"]` | `3a19...eaea` | âœ… æ­£ç¡®å…¥åº“ |
| æ‰‹åŠ¨ä¼ é€’çª—å·¦/F01 | F01 | `WAREHOUSE_MAPPING["æ‰‹åŠ¨ä¼ é€’çª—å·¦"]["site_uuids"]["F01"]` | `3a19...c4a` | âœ… æ­£ç¡®å…¥åº“ |
| æ‰‹åŠ¨å †æ ˆ/A01 | A01 | `WAREHOUSE_MAPPING["æ‰‹åŠ¨å †æ ˆ"]["site_uuids"]["A01"]` | `3a19...eaea` | âœ… ä»ç„¶æ­£å¸¸ |


---

## warehouse_factory è¯¦è§£

### å‡½æ•°ç­¾å

```python
def warehouse_factory(
    name: str,
    num_items_x: int = 1,      # åˆ—æ•°
    num_items_y: int = 4,      # è¡Œæ•°
    num_items_z: int = 4,      # å±‚æ•°
    dx: float = 137.0,         # X èµ·å§‹åç§»
    dy: float = 96.0,          # Y èµ·å§‹åç§»
    dz: float = 120.0,         # Z èµ·å§‹åç§»
    item_dx: float = 10.0,     # X é—´è·
    item_dy: float = 10.0,     # Y é—´è·
    item_dz: float = 10.0,     # Z é—´è·
    col_offset: int = 0,       # åˆ—åç§»ï¼ˆå½±å“æ•°å­—ï¼‰
    row_offset: int = 0,       # è¡Œåç§»ï¼ˆå½±å“å­—æ¯ï¼‰
    layout: str = "col-major", # å¸ƒå±€æ¨¡å¼
) -> WareHouse:
```

### å‚æ•°è¯´æ˜

#### å°ºå¯¸å‚æ•°
- **num_items_x, y, z**: å®šä¹‰ä»“åº“çš„ç½‘æ ¼å°ºå¯¸
- **æ³¨æ„**: å½“ `num_items_z > 1` æ—¶ï¼ŒZ è½´ä¼šè¢«æ˜ å°„ä¸ºæ•°å­—åˆ—

#### ä½ç½®å‚æ•°
- **dx, dy, dz**: ç¬¬ä¸€ä¸ªåº“ä½çš„èµ·å§‹åæ ‡
- **item_dx, dy, dz**: åº“ä½ä¹‹é—´çš„é—´è·

#### åç§»å‚æ•°
- **col_offset**: åˆ—èµ·å§‹åç§»ï¼Œç”¨äºç”Ÿæˆ A05-D08 ç­‰å‘½å
  ```python
  col_offset=4  # ç”Ÿæˆ A05, A06, A07, A08
  ```

- **row_offset**: è¡Œèµ·å§‹åç§»ï¼Œç”¨äºç”Ÿæˆ F01-J03 ç­‰å‘½å
  ```python
  row_offset=5  # ç”Ÿæˆ F01, F02, F03ï¼ˆè·³è¿‡ A-Eï¼‰
  ```

#### å¸ƒå±€å‚æ•°
- **layout**: 
  - `"col-major"`: åˆ—ä¼˜å…ˆï¼ˆé»˜è®¤ï¼‰ï¼Œå¯èƒ½å¯¼è‡´ä¸Šä¸‹é¢ å€’
  - `"row-major"`: è¡Œä¼˜å…ˆï¼Œ**æ¨èä½¿ç”¨**ï¼ŒA æ˜¾ç¤ºåœ¨ä¸Š

### åº“ä½ç”Ÿæˆé€»è¾‘

```python
# row-major æ¨¡å¼ï¼ˆæ¨èï¼‰
keys = [f"{LETTERS[j + row_offset]}{i + 1 + col_offset:02d}" 
        for j in range(num_y) 
        for i in range(num_x)]

# ç¤ºä¾‹ï¼šnum_y=2, num_x=3, row_offset=0, col_offset=0
# ç”Ÿæˆï¼šA01, A02, A03, B01, B02, B03
```

### Y åæ ‡è®¡ç®—

```python
if layout == "row-major":
    # A åœ¨ä¸Šï¼ˆY è¾ƒå°ï¼‰
    y = dy + row * item_dy
else:
    # A åœ¨ä¸‹ï¼ˆY è¾ƒå¤§ï¼‰- ä¸æ¨è
    y = dy + (num_items_y - row - 1) * item_dy
```

---

## åˆ›å»ºæ–°ä»“åº“

### æ­¥éª¤ 1: åœ¨ YB_warehouses.py ä¸­åˆ›å»ºå‡½æ•°

```python
def bioyond_warehouse_3x4x1(name: str) -> WareHouse:
    """åˆ›å»º 3è¡ŒÃ—4åˆ—Ã—1å±‚ ä»“åº“
    
    å¸ƒå±€:
    A01 | A02 | A03 | A04
    B01 | B02 | B03 | B04
    C01 | C02 | C03 | C04
    """
    return warehouse_factory(
        name=name,
        num_items_x=4,      # 4åˆ—
        num_items_y=3,      # 3è¡Œ
        num_items_z=1,      # 1å±‚
        dx=10.0,
        dy=10.0,
        dz=10.0,
        item_dx=137.0,
        item_dy=120.0,
        item_dz=120.0,
        category="warehouse",
        layout="row-major",  # â­ æ¨èä½¿ç”¨
    )
```

### æ­¥éª¤ 2: åœ¨ decks.py ä¸­ä½¿ç”¨

```python
# 1. å¯¼å…¥å‡½æ•°
from unilabos.resources.bioyond.YB_warehouses import (
    bioyond_warehouse_3x4x1,  # æ–°å¢
)

# 2. åœ¨ setup() ä¸­æ·»åŠ 
self.warehouses = {
    "æˆ‘çš„æ–°ä»“åº“": bioyond_warehouse_3x4x1("æˆ‘çš„æ–°ä»“åº“"),
}
self.warehouse_locations = {
    "æˆ‘çš„æ–°ä»“åº“": Coordinate(100.0, 200.0, 0.0),
}
```

### æ­¥éª¤ 3: åœ¨ config.py ä¸­é…ç½® UUIDï¼ˆå¯é€‰ï¼‰

```python
WAREHOUSE_MAPPING = {
    "æˆ‘çš„æ–°ä»“åº“": {
        "uuid": "",
        "site_uuids": {
            "A01": "ä» Bioyond ç³»ç»Ÿè·å–çš„ UUID",
            "A02": "ä» Bioyond ç³»ç»Ÿè·å–çš„ UUID",
            # ... å…¶ä»– 11 ä¸ªåº“ä½
        }
    }
}
```

**æ³¨æ„ï¼š** å¦‚æœä¸éœ€è¦æ‹–æ‹½å…¥åº“åŠŸèƒ½ï¼Œå¯è·³è¿‡æ­¤æ­¥éª¤ã€‚

---

## å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆåº“ä½æ˜¾ç¤ºä¸Šä¸‹é¢ å€’ï¼ˆC åœ¨ä¸Šï¼ŒA åœ¨ä¸‹ï¼‰ï¼Ÿ

**åŸå› ï¼š** ä½¿ç”¨äº†é»˜è®¤çš„ `col-major` å¸ƒå±€ã€‚

**è§£å†³ï¼š** åœ¨ `warehouse_factory` ä¸­æ·»åŠ  `layout="row-major"`

```python
return warehouse_factory(
    ...
    layout="row-major",  # â† æ·»åŠ è¿™è¡Œ
)
```

### Q2: æˆ‘éœ€è¦ 1Ã—3Ã—3 è¿˜æ˜¯ 3Ã—3Ã—1ï¼Ÿ

**åˆ¤æ–­æ–¹æ³•ï¼š**
- **1Ã—3Ã—3**: 1åˆ—Ã—3è¡ŒÃ—3**å±‚**ï¼ˆå‚ç›´å †å ï¼Œæœ‰é«˜åº¦ï¼‰
- **3Ã—3Ã—1**: 3è¡ŒÃ—3åˆ—Ã—1**å±‚**ï¼ˆå¹³é¢ç½‘æ ¼ï¼‰

**æ¨èï¼š** å¤§å¤šæ•°æƒ…å†µä½¿ç”¨ `XÃ—YÃ—1`ï¼ˆå¹³é¢ç½‘æ ¼ï¼‰æ›´ç›´è§‚ã€‚

### Q3: å¦‚ä½•ç”Ÿæˆ F01-J03 è€Œé A01-E03ï¼Ÿ

**æ–¹æ³•ï¼š** ä½¿ç”¨ `row_offset` å‚æ•°

```python
bioyond_warehouse_5x3x1("ä»“åº“å", row_offset=5)
# row_offset=5 è·³è¿‡ A-Eï¼Œä» F å¼€å§‹
```

### Q4: æ‹–æ‹½ç‰©æ–™åæ‰¾ä¸åˆ° UUID æ€ä¹ˆåŠï¼Ÿ

**æ£€æŸ¥æ¸…å•ï¼š**
1. `config.py` ä¸­æ˜¯å¦æœ‰è¯¥ä»“åº“çš„é…ç½®ï¼Ÿ
2. ä»“åº“åç§°æ˜¯å¦å®Œå…¨åŒ¹é…ï¼Ÿ
3. åº“ä½åç§°ï¼ˆå¦‚ A01ï¼‰æ˜¯å¦åœ¨ `site_uuids` ä¸­ï¼Ÿ

**ç¤ºä¾‹é”™è¯¯ï¼š**
```python
# decks.py
"æ‰‹åŠ¨ä¼ é€’çª—å³": bioyond_warehouse_5x3x1(...)

# config.py - âŒ åç§°ä¸åŒ¹é…
"æ‰‹åŠ¨ä¼ é€’çª—": { ... }  # ç¼ºå°‘"å³"å­—
```

### Q5: åº“ä½é‡å æ€ä¹ˆåŠï¼Ÿ

**åŸå› ï¼š** é—´è·ï¼ˆ`item_dx/dy/dz`ï¼‰å¤ªå°ã€‚

**è§£å†³ï¼š** å¢å¤§é—´è·å‚æ•°

```python
item_dx=150.0,  # å¢å¤§ X é—´è·
item_dy=130.0,  # å¢å¤§ Y é—´è·
```

---

## è°ƒè¯•æŠ€å·§

### 1. æŸ¥çœ‹ç”Ÿæˆçš„åº“ä½

```python
warehouse = bioyond_warehouse_5x3x1("æµ‹è¯•ä»“åº“")
print(list(warehouse.sites.keys()))
# è¾“å‡ºï¼š['A01', 'A02', 'A03', 'B01', 'B02', ...]
```

### 2. æ£€æŸ¥åº“ä½åæ ‡

```python
for name, site in warehouse.sites.items():
    print(f"{name}: {site.location}")
# è¾“å‡ºï¼š
# A01: Coordinate(x=10.0, y=10.0, z=120.0)
# A02: Coordinate(x=147.0, y=10.0, z=120.0)
# ...
```

### 3. éªŒè¯ UUID æ˜ å°„

```python
from unilabos.devices.workstation.bioyond_studio.config import WAREHOUSE_MAPPING

warehouse_name = "æ‰‹åŠ¨ä¼ é€’çª—å³"
location_code = "A01"

if warehouse_name in WAREHOUSE_MAPPING:
    uuid = WAREHOUSE_MAPPING[warehouse_name]["site_uuids"].get(location_code)
    print(f"{warehouse_name}/{location_code} â†’ {uuid}")
else:
    print(f"âŒ æœªæ‰¾åˆ°ä»“åº“: {warehouse_name}")
```

---

## æ–‡ä»¶å…³ç³»å›¾

```
unilabos/
â”œâ”€â”€ resources/
â”‚   â”œâ”€â”€ warehouse.py              # warehouse_factory æ ¸å¿ƒå®ç°
â”‚   â””â”€â”€ bioyond/
â”‚       â”œâ”€â”€ YB_warehouses.py      # â­ ä»“åº“å‡½æ•°å®šä¹‰
â”‚       â”œâ”€â”€ decks.py              # â­ Deck å¸ƒå±€é…ç½®
â”‚       â””â”€â”€ README_WAREHOUSE.md   # ğŸ“– æœ¬æ–‡æ¡£
â””â”€â”€ devices/
    â””â”€â”€ workstation/
        â””â”€â”€ bioyond_studio/
            â”œâ”€â”€ config.py         # â­ UUID æ˜ å°„é…ç½®
            â””â”€â”€ bioyond_cell/
                â””â”€â”€ bioyond_cell_workstation.py  # ä¸šåŠ¡é€»è¾‘
```

---

## ç‰ˆæœ¬å†å²

- **v1.1** (2026-01-08): è¡¥å……å®é™…é…ç½®æ¡ˆä¾‹
  - æ·»åŠ "æ‰‹åŠ¨ä¼ é€’çª—å³"å’Œ"æ‰‹åŠ¨ä¼ é€’çª—å·¦"çš„å®Œæ•´é…ç½®ç¤ºä¾‹
  - å±•ç¤º UUID å¤ç”¨çš„å®é™…åº”ç”¨
  - è¯´æ˜ä¸‰ä¸ªä»“åº“å…±äº«ç‰©ç†å †æ ˆçš„é…ç½®æ–¹æ³•
  
- **v1.0** (2026-01-07): åˆå§‹ç‰ˆæœ¬
  - æ–°å¢ `row_offset` å‚æ•°æ”¯æŒ
  - åˆ›å»º `bioyond_warehouse_5x3x1` å’Œ `bioyond_warehouse_2x2x1`
  - ä¿®å¤å¤šä¸ªä»“åº“çš„ä¸Šä¸‹é¢ å€’é—®é¢˜

---

## ç›¸å…³èµ„æº

- [warehouse.py](../warehouse.py) - æ ¸å¿ƒå·¥å‚å‡½æ•°å®ç°
- [YB_warehouses.py](YB_warehouses.py) - æ‰€æœ‰ä»“åº“å®šä¹‰
- [decks.py](decks.py) - Deck å¸ƒå±€é…ç½®
- [config.py](../../devices/workstation/bioyond_studio/config.py) - UUID æ˜ å°„

---

**ç»´æŠ¤è€…ï¼š** Uni-Lab-OS å¼€å‘å›¢é˜Ÿ  
**æœ€åæ›´æ–°ï¼š** 2026-01-07
